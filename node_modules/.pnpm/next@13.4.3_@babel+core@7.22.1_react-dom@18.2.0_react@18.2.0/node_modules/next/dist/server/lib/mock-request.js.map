{"version":3,"sources":["../../../src/server/lib/mock-request.ts"],"names":["MockedRequest","MockedResponse","createRequestResponseMocks","Stream","Readable","constructor","url","headers","method","socket","httpVersion","httpVersionMajor","httpVersionMinor","Proxy","get","_target","prop","Error","_read","emit","connection","aborted","complete","trailers","rawTrailers","rawHeaders","setTimeout","Writable","statusCode","statusMessage","finished","headersSent","buffers","Headers","hasStreamed","Promise","resolve","reject","on","err","write","chunk","push","Buffer","isBuffer","from","_implicitHeader","_write","_encoding","callback","writeHead","length","Array","isArray","i","setHeader","key","value","Object","entries","hasHeader","name","has","getHeader","undefined","getHeaders","toNodeHeaders","getHeaderNames","keys","delete","v","append","set","toString","removeHeader","assignSocket","detachSocket","writeContinue","writeProcessing","upgrading","chunkedEncoding","shouldKeepAlive","useChunkedEncodingByDefault","sendDate","addTrailers","flushHeaders","req","res"],"mappings":"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"}