{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["join","parse","parseStackTrace","RouteKind","DefaultRouteMatcherManager","getMiddlewareMatchers","getMiddlewareRouteMatcher","CLIENT_STATIC_FILES_PATH","DEV_CLIENT_PAGES_MANIFEST","DevRouteMatcherManager","constructor","hasPage","match","pathname","definition","kind","PAGES","page","filename","bundlePath","params","test","makeResolver","dir","nextConfig","middleware","serverAddr","url","require","default","Router","getPathMatch","DevServer","NodeNextRequest","NodeNextResponse","loadCustomRoutes","routeResults","WeakMap","TurbopackDevServerProxy","serveStatic","Promise","resolve","renderError","err","req","set","type","error","name","message","stack","render404","devServer","conf","hostname","port","matchers","reload","setDevReady","customRoutes","files","length","matcher","regexp","originalSource","getEdgeFunctionInfo","original","paths","map","file","process","cwd","env","Object","keys","wasm","assets","bind","hasMiddleware","routes","generateRoutes","catchAllMiddleware","generateCatchAllMiddlewareRoute","buildId","pagesManifestRoute","fsRoutes","find","r","fn","finished","router","catchAllRoute","res","_params","parsedUrl","key","query","startsWith","format","hash","statusCode","headers","getHeaders","compiledRoutes","filter","route","includes","resolveRoute","_req","_res","attachRequestMeta","_initUrl","execute","originalResponse","headersSent","setHeader","routeResult","get","body","JSON","stringify","send","delete"],"mappings":"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"}