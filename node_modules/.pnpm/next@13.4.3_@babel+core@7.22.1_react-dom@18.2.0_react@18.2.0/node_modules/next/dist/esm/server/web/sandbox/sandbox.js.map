{"version":3,"sources":["../../../../src/server/web/sandbox/sandbox.ts"],"names":["getServerError","getModuleContext","requestToBodyStream","ErrorSource","Symbol","FORBIDDEN_HEADERS","withTaggedErrors","fn","params","then","result","waitUntil","catch","error","getRuntimeContext","runtime","evaluateInContext","moduleName","name","onWarning","useCache","env","edgeFunctionEntry","distDir","incrementalCache","context","globalThis","__incrementalCache","paramPath","paths","run","subreq","request","headers","subrequests","split","includes","Promise","resolve","response","Response","edgeFunction","_ENTRIES","default","cloned","method","body","cloneBodyStream","undefined","KUint8Array","evaluate","headerName","delete","finalize"],"mappings":"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"}