{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["makeResolver","DevRouteMatcherManager","DefaultRouteMatcherManager","constructor","hasPage","match","pathname","definition","kind","RouteKind","PAGES","page","filename","bundlePath","params","test","dir","nextConfig","middleware","serverAddr","url","require","default","Router","getPathMatch","DevServer","NodeNextRequest","NodeNextResponse","loadCustomRoutes","routeResults","WeakMap","TurbopackDevServerProxy","serveStatic","Promise","resolve","renderError","err","req","set","type","error","name","message","stack","parseStackTrace","render404","devServer","conf","hostname","port","matchers","reload","setDevReady","customRoutes","files","length","matcher","getMiddlewareMatchers","regexp","originalSource","getMiddlewareRouteMatcher","getEdgeFunctionInfo","original","paths","map","file","join","process","cwd","env","Object","keys","wasm","assets","bind","hasMiddleware","routes","generateRoutes","catchAllMiddleware","generateCatchAllMiddlewareRoute","buildId","pagesManifestRoute","fsRoutes","find","r","CLIENT_STATIC_FILES_PATH","DEV_CLIENT_PAGES_MANIFEST","fn","finished","router","catchAllRoute","res","_params","parsedUrl","key","query","startsWith","format","hash","statusCode","headers","getHeaders","compiledRoutes","filter","route","includes","resolveRoute","_req","_res","parse","attachRequestMeta","_initUrl","execute","originalResponse","headersSent","setHeader","routeResult","get","body","JSON","stringify","send","delete"],"mappings":"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"}